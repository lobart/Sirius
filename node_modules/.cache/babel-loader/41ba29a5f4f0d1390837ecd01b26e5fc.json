{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\Archi\\\\React_ex\\\\Sirius\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:\\\\Users\\\\Archi\\\\React_ex\\\\Sirius\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"C:\\\\Users\\\\Archi\\\\React_ex\\\\Sirius\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\Archi\\\\React_ex\\\\Sirius\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\Archi\\\\React_ex\\\\Sirius\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\Archi\\\\React_ex\\\\Sirius\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React,{Component}from'react';import TodoList from'../todo-list/todo-list';import ItemAddForm from'../item-add-form';import SearchForm from'../search-form';import Map from'../map';import'./App.css';var Hed=function Hed(){return/*#__PURE__*/React.createElement(\"h1\",{className:\"head\"},\"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C \\u0432 \\u0433\\u043E\\u0440\\u043E\\u0434-\\u0433\\u0435\\u0440\\u043E\\u0439 \\u0421\\u0438\\u0440\\u0438\\u0443\\u0441!\");};var App=/*#__PURE__*/function(_Component){_inherits(App,_Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.maxId=100;_this.state={todoData:[_this.createToDoItem('Drink coffee'),_this.createToDoItem('Write code'),_this.createToDoItem('Sleep')],term:\"\"};_this.deleteItem=function(id){_this.setState(function(_ref){var todoData=_ref.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.addItem=function(text){console.log('added: ',text);var newItem=_this.createToDoItem(text);_this.setState(function(_ref2){var todoData=_ref2.todoData;var newAr=[].concat(_toConsumableArray(todoData),[newItem]);return{todoData:newAr};});};_this.stayItem=function(text){console.log('search: ',text);_this.setState(function(_ref3){var todoData=_ref3.todoData;todoData.forEach(function(item,index,array){if(!item.label.includes(text)){console.log('it: ',item,index);var idx=index;var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};};});});};_this.onToggleImportant=function(id){_this.setState(function(_ref4){var todoData=_ref4.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{important:!oldItem.important});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.onToggleDone=function(id){_this.setState(function(_ref5){var todoData=_ref5.todoData;var idx=todoData.findIndex(function(el){return el.id===id;});var oldItem=todoData[idx];var newItem=_objectSpread(_objectSpread({},oldItem),{},{done:!oldItem.done});var newArray=[].concat(_toConsumableArray(todoData.slice(0,idx)),[newItem],_toConsumableArray(todoData.slice(idx+1)));return{todoData:newArray};});};_this.onSearchChange=function(term){_this.setState({term:term});};return _this;}_createClass(App,[{key:\"createToDoItem\",value:function createToDoItem(label){return{label:label,important:false,id:this.maxId++,done:false};}},{key:\"search\",value:function search(items,term){if(term.length===0){return items;}return items.filter(function(item){return item.label.indexOf(term)>-1;});}},{key:\"render\",value:function render(){var _this$state=this.state,todoData=_this$state.todoData,term=_this$state.term;var visibleItems=this.search(todoData,term);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Hed,null),/*#__PURE__*/React.createElement(\"div\",{className:\"body\"},/*#__PURE__*/React.createElement(SearchForm,{onChange:this.onSearchChange}),/*#__PURE__*/React.createElement(TodoList,{todos:visibleItems,onToggleDone:this.onToggleDone,onToggleImportant:this.onToggleImportant,onDeleted:this.deleteItem}),/*#__PURE__*/React.createElement(ItemAddForm,{onItemAdded:this.addItem}),/*#__PURE__*/React.createElement(\"div\",{className:\"map\"},/*#__PURE__*/React.createElement(Map,null))));}}]);return App;}(Component);export{App as default};;","map":{"version":3,"sources":["C:/Users/Archi/React_ex/Sirius/src/components/App/App.js"],"names":["React","Component","TodoList","ItemAddForm","SearchForm","Map","Hed","App","maxId","state","todoData","createToDoItem","term","deleteItem","id","setState","idx","findIndex","el","newArray","slice","addItem","text","console","log","newItem","newAr","stayItem","forEach","item","index","array","label","includes","onToggleImportant","oldItem","important","onToggleDone","done","onSearchChange","items","length","filter","indexOf","visibleItems","search"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport TodoList from '../todo-list/todo-list';\r\nimport ItemAddForm from '../item-add-form';\r\nimport SearchForm from '../search-form';\r\nimport Map from '../map';\r\nimport './App.css';\r\n\r\nconst Hed = () => {\r\n    return (\r\n      <h1 className='head'>Добро пожаловать в город-герой Сириус!</h1>\r\n    );\r\n  };\r\n\r\nexport default class App extends Component{\r\n    maxId = 100;\r\n    createToDoItem(label){\r\n        return {\r\n            label: label,\r\n            important: false,\r\n            id: this.maxId++,\r\n            done: false\r\n        }\r\n    }\r\n    state = {\r\n        todoData : [\r\n            this.createToDoItem('Drink coffee'),\r\n            this.createToDoItem('Write code'),\r\n            this.createToDoItem('Sleep')\r\n        ],\r\n        term : \"\"\r\n    };\r\n    deleteItem = (id) => {\r\n        this.setState (({todoData}) => {\r\n            const idx = todoData.findIndex((el) => el.id === id);\r\n            const newArray = [...todoData.slice(0,idx), ...todoData.slice(idx+1)];\r\n            return { todoData : newArray};\r\n        });\r\n    };\r\n    addItem = (text) => {\r\n        console.log('added: ',text);\r\n        const newItem = this.createToDoItem(text);\r\n        this.setState(({todoData}) => {\r\n            const newAr = [\r\n                ...todoData,\r\n                newItem\r\n            ]\r\n            return {todoData : newAr};\r\n        });\r\n        \r\n    };\r\n    stayItem = (text) => {\r\n        console.log('search: ',text);\r\n        this.setState(({todoData}) => {\r\n        todoData.forEach(function(item, index, array) {\r\n            if (!item.label.includes(text)){\r\n                console.log('it: ',item, index);\r\n                const idx = index;\r\n                const newArray = [...todoData.slice(0,idx), ...todoData.slice(idx+1)];\r\n                return { todoData : newArray};\r\n            };\r\n          });\r\n        });\r\n    };\r\n    onToggleImportant = (id) =>{\r\n        this.setState(({todoData})=>{\r\n            const idx = todoData.findIndex((el) => el.id === id);\r\n            const oldItem = todoData[idx];\r\n            const newItem = {...oldItem, important: !oldItem.important};\r\n            const newArray = [...todoData.slice(0,idx),newItem, ...todoData.slice(idx+1)];\r\n            return { todoData : newArray};\r\n        });\r\n    };\r\n    onToggleDone = (id) =>{\r\n        this.setState(({todoData})=>{\r\n            const idx = todoData.findIndex((el) => el.id === id);\r\n            const oldItem = todoData[idx];\r\n            const newItem = {...oldItem, done: !oldItem.done};\r\n            const newArray = [...todoData.slice(0,idx),newItem, ...todoData.slice(idx+1)];\r\n            return { todoData : newArray};\r\n        });\r\n    };\r\n    onSearchChange = (term)=>{\r\n        this.setState({term});\r\n    };\r\n    search (items, term) {\r\n        if (term.length === 0){\r\n            return items;\r\n        }\r\n        return items.filter((item)=>{\r\n            return item.label.indexOf(term) > -1;\r\n        });\r\n    }\r\n    render(){\r\n        const {todoData, term} = this.state;\r\n        const visibleItems = this.search(todoData, term);\r\n    return (\r\n      <div>\r\n        <Hed />\r\n        <div className='body'> \r\n            <SearchForm onChange = {this.onSearchChange}/>\r\n            <TodoList todos = {visibleItems} \r\n            onToggleDone={this.onToggleDone}\r\n            onToggleImportant={this.onToggleImportant}\r\n            onDeleted={this.deleteItem} />\r\n            <ItemAddForm onItemAdded={this.addItem}/>\r\n            <div className='map'>\r\n            <Map />\r\n            </div>\r\n        </div>\r\n      </div>\r\n    );\r\n    }\r\n  };"]},"metadata":{},"sourceType":"module"}